#!/usr/bin/env python3
"""
–¢–µ—Å—Ç —Å–µ—Ä–≤–∏—Å–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –∏ —Å–∏–Ω–µ—Ä–≥–∏–∑–º –º–µ–∂–¥—É –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
"""

import sys
import json

def test_n_vs_k_antagonism():
    """–¢–µ—Å—Ç: –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –∞–∑–æ—Ç–∞ –∏ –∫–∞–ª–∏—è"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º N vs K –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º...")
    
    # –°–∏–º—É–ª—è—Ü–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∞–∑–æ—Ç–∞ –∏ –Ω–∏–∑–∫–æ–≥–æ –∫–∞–ª–∏—è
    npk_data = {
        "nitrogen": 400.0,    # –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç
        "phosphorus": 100.0,  # –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–æ—Å—Ñ–æ—Ä
        "potassium": 150.0    # –ù–∏–∑–∫–∏–π –∫–∞–ª–∏–π
    }
    
    # –û–∂–∏–¥–∞–µ–º –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: –≤—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞–ª–∏–π
    n_ratio = npk_data["nitrogen"] / 200.0  # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ N:K = 1:1
    expected_antagonism = 1.0 - (0.3 * (n_ratio - 1.5)) if n_ratio > 1.5 else 1.0
    
    print(f"‚úÖ N:K —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: {n_ratio:.2f}")
    print(f"‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: {expected_antagonism:.3f}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É
    assert n_ratio > 1.5, f"–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ N:K –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å > 1.5, –ø–æ–ª—É—á–µ–Ω–æ: {n_ratio}"
    assert expected_antagonism < 1.0, f"–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 1.0, –ø–æ–ª—É—á–µ–Ω–æ: {expected_antagonism}"
    
    print("‚úÖ N vs K –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_k_vs_mg_antagonism():
    """–¢–µ—Å—Ç: –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –∫–∞–ª–∏—è –∏ –º–∞–≥–Ω–∏—è"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º K vs Mg –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º...")
    
    # –°–∏–º—É–ª—è—Ü–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞–ª–∏—è
    npk_data = {
        "nitrogen": 200.0,
        "phosphorus": 100.0,
        "potassium": 500.0    # –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π –∫–∞–ª–∏–π
    }
    
    # –û–∂–∏–¥–∞–µ–º –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: –≤—ã—Å–æ–∫–∏–π –∫–∞–ª–∏–π –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–∞–≥–Ω–∏–π
    k_ratio = npk_data["potassium"] / 200.0  # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ K:Mg = 2:1
    expected_antagonism = 1.0 - (0.25 * (k_ratio - 2.5)) if k_ratio > 2.5 else 1.0
    
    print(f"‚úÖ K:Mg —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: {k_ratio:.2f}")
    print(f"‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: {expected_antagonism:.3f}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É
    assert k_ratio >= 2.5, f"–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ K:Mg –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 2.5, –ø–æ–ª—É—á–µ–Ω–æ: {k_ratio}"
    # –ü—Ä–∏ k_ratio = 2.5 –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º = 1.0 (–≥—Ä–∞–Ω–∏—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
    assert expected_antagonism <= 1.0, f"–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å <= 1.0, –ø–æ–ª—É—á–µ–Ω–æ: {expected_antagonism}"
    
    print("‚úÖ K vs Mg –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_ph_dependent_interactions():
    """–¢–µ—Å—Ç: pH-–∑–∞–≤–∏—Å–∏–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º pH-–∑–∞–≤–∏—Å–∏–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è...")
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —â–µ–ª–æ—á–Ω—ã–µ –ø–æ—á–≤—ã
    ph_values = [7.0, 7.5, 8.0, 8.5]
    npk_data = {
        "nitrogen": 200.0,
        "phosphorus": 100.0,
        "potassium": 200.0
    }
    
    for ph in ph_values:
        if ph > 7.5:
            # P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è –≤ —â–µ–ª–æ—á–Ω—ã—Ö –ø–æ—á–≤–∞—Ö
            pca_antagonism = 1.0 - (0.3 * (ph - 7.5))
            print(f"‚úÖ pH {ph}: P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º = {pca_antagonism:.3f}")
            assert pca_antagonism < 1.0, f"–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 1.0 –ø—Ä–∏ pH {ph}"
        else:
            print(f"‚úÖ pH {ph}: –ù–µ—Ç P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º–∞")
    
    print("‚úÖ pH-–∑–∞–≤–∏—Å–∏–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_n_s_synergy():
    """–¢–µ—Å—Ç: —Å–∏–Ω–µ—Ä–≥–∏–∑–º –∞–∑–æ—Ç–∞ –∏ —Å–µ—Ä—ã"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º N + S —Å–∏–Ω–µ—Ä–≥–∏–∑–º...")
    
    # –°–∏–º—É–ª—è—Ü–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è N:S
    npk_data = {
        "nitrogen": 200.0,
        "phosphorus": 100.0,
        "potassium": 200.0
    }
    
    # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ N:S = 15:1
    optimal_ns_ratio = 15.0
    current_ratio = npk_data["nitrogen"] / 10.0  # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —Å—Ä–µ–¥–Ω–µ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ S
    
    if current_ratio < optimal_ns_ratio:
        synergy_factor = 1.0 + (0.15 * (optimal_ns_ratio - current_ratio) / optimal_ns_ratio)
        print(f"‚úÖ N:S —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: {current_ratio:.2f}")
        print(f"‚úÖ –°–∏–Ω–µ—Ä–≥–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä: {synergy_factor:.3f}")
        assert synergy_factor > 1.0, f"–°–∏–Ω–µ—Ä–≥–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 1.0, –ø–æ–ª—É—á–µ–Ω–æ: {synergy_factor}"
    else:
        print(f"‚úÖ N:S —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ: {current_ratio:.2f}")
    
    print("‚úÖ N + S —Å–∏–Ω–µ—Ä–≥–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_recommendation_generation():
    """–¢–µ—Å—Ç: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º–∞–º"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π...")
    
    # –¢–µ—Å—Ç 1: –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞–ª–∏–π
    npk_high_n = {
        "nitrogen": 400.0,
        "phosphorus": 100.0,
        "potassium": 150.0
    }
    
    nk_antagonism = 1.0 - (0.3 * ((npk_high_n["nitrogen"] / 200.0) - 1.5))
    
    if nk_antagonism < 0.8:
        recommendation = "‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞–ª–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —É–º–µ–Ω—å—à–∏—Ç—å –∞–∑–æ—Ç–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è, —É–≤–µ–ª–∏—á–∏—Ç—å –∫–∞–ª–∏–π–Ω—ã–µ"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation}")
        assert "–∞–∑–æ—Ç" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–∑–æ—Ç–∞"
    
    # –¢–µ—Å—Ç 2: –©–µ–ª–æ—á–Ω–∞—è –ø–æ—á–≤–∞
    ph_alkaline = 8.0
    if ph_alkaline > 7.5:
        recommendation = "‚ö†Ô∏è –©–µ–ª–æ—á–Ω–∞—è –ø–æ—á–≤–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –ø–æ–¥–∫–∏—Å–ª–∏—Ç—å –ø–æ—á–≤—É, –≤–Ω–µ—Å—Ç–∏ —Ö–µ–ª–∞—Ç–Ω—ã–µ —Ñ–æ—Ä–º—ã —Ñ–æ—Å—Ñ–æ—Ä–∞"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation}")
        assert "—â–µ–ª–æ—á–Ω–∞—è" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —â–µ–ª–æ—á–Ω–æ—Å—Ç–∏"
    
    print("‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_scientific_sources():
    """–¢–µ—Å—Ç: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏...")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
    sources = [
        "Marschner, 2012. Mineral Nutrition of Higher Plants",
        "White & Brown, 2010. Plant Nutrition for Sustainable Development"
    ]
    
    for source in sources:
        assert "Marschner" in source or "White" in source, f"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫: {source}"
        print(f"‚úÖ –ò—Å—Ç–æ—á–Ω–∏–∫ –≤–∞–ª–∏–¥–µ–Ω: {source}")
    
    print("‚úÖ –í—Å–µ –Ω–∞—É—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã")

def test_real_measurable_interactions():
    """–¢–µ—Å—Ç: —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –∏–∑–º–µ—Ä—è–µ–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω–æ –∏–∑–º–µ—Ä—è–µ–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è...")
    
    # –¢–µ—Å—Ç 1: N vs K –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º (–∏–∑–º–µ—Ä—è—é—Ç—Å—è –æ–±–∞!)
    npk_data = {
        "nitrogen": 400.0,    # –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç
        "phosphorus": 100.0,  # –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–æ—Å—Ñ–æ—Ä
        "potassium": 150.0    # –ù–∏–∑–∫–∏–π –∫–∞–ª–∏–π
    }
    
    nk_antagonism = 1.0 - (0.3 * ((npk_data["nitrogen"] / 200.0) - 1.5))
    print(f"‚úÖ N vs K –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: {nk_antagonism:.3f}")
    assert nk_antagonism < 1.0, "–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 1.0"
    
    # –¢–µ—Å—Ç 2: pH-–∑–∞–≤–∏—Å–∏–º—ã–π P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º (pH –∏–∑–º–µ—Ä—è–µ—Ç—Å—è!)
    ph_values = [7.0, 7.5, 8.0, 8.5]
    for ph in ph_values:
        if ph > 7.5:
            pca_antagonism = 1.0 - (0.3 * (ph - 7.5))
            print(f"‚úÖ pH {ph}: P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º = {pca_antagonism:.3f}")
            assert pca_antagonism < 1.0, f"–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 1.0 –ø—Ä–∏ pH {ph}"
        else:
            print(f"‚úÖ pH {ph}: –ù–µ—Ç P-Ca –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º–∞")
    
    # –¢–µ—Å—Ç 3: P vs K –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (–∏–∑–º–µ—Ä—è—é—Ç—Å—è –æ–±–∞!)
    pk_ratio = npk_data["phosphorus"] / npk_data["potassium"]
    if pk_ratio > 0.8:
        pk_antagonism = 1.0 - (0.15 * (pk_ratio - 0.8))
        print(f"‚úÖ P vs K –∞–Ω—Ç–∞–≥–æ–Ω–∏–∑–º: {pk_antagonism:.3f}")
        assert pk_antagonism < 1.0, "–ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 1.0"
    
    print("‚úÖ –†–µ–∞–ª—å–Ω–æ –∏–∑–º–µ—Ä—è–µ–º—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_recommendations_for_unmeasured_elements():
    """–¢–µ—Å—Ç: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–∏–∑–º–µ—Ä—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–∏–∑–º–µ—Ä—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤...")
    
    # –¢–µ—Å—Ç 1: K vs Mg —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (K –∏–∑–º–µ—Ä—è–µ—Ç—Å—è, Mg - –Ω–µ—Ç)
    npk_high_k = {
        "nitrogen": 200.0,
        "phosphorus": 100.0,
        "potassium": 500.0    # –í—ã—Å–æ–∫–∏–π –∫–∞–ª–∏–π
    }
    
    if npk_high_k["potassium"] > 400.0:
        recommendation = "üí° –í—ã—Å–æ–∫–∏–π –∫–∞–ª–∏–π –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–∞–≥–Ω–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –≤–Ω–µ—Å—Ç–∏ —Å—É–ª—å—Ñ–∞—Ç –º–∞–≥–Ω–∏—è (MgSO4)"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation}")
        assert "–º–∞–≥–Ω–∏–π" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –º–∞–≥–Ω–∏—è"
    
    # –¢–µ—Å—Ç 2: N + S —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (N –∏–∑–º–µ—Ä—è–µ—Ç—Å—è, S - –Ω–µ—Ç)
    npk_high_n = {
        "nitrogen": 400.0,    # –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç
        "phosphorus": 100.0,
        "potassium": 200.0
    }
    
    if npk_high_n["nitrogen"] > 300.0:
        recommendation = "üí° –í—ã—Å–æ–∫–∏–π –∞–∑–æ—Ç —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä—É –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ –±–µ–ª–∫–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –≤–Ω–µ—Å—Ç–∏ —Å—É–ª—å—Ñ–∞—Ç –∞–º–º–æ–Ω–∏—è"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: {recommendation}")
        assert "—Å–µ—Ä—É" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–µ—Ä—ã"
    
    print("‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–∏–∑–º–µ—Ä—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def test_crop_specific_recommendations():
    """–¢–µ—Å—Ç: —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫—É–ª—å—Ç—É—Ä–∞–º"""
    print("\nüß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫—É–ª—å—Ç—É—Ä–∞–º...")
    
    # –¢–µ—Å—Ç 1: –¢–æ–º–∞—Ç—ã –∏ –∫–∞–ª—å—Ü–∏–π
    npk_tomato = {
        "nitrogen": 250.0,
        "phosphorus": 120.0,
        "potassium": 400.0    # –í—ã—Å–æ–∫–∏–π –∫–∞–ª–∏–π
    }
    ph_acidic = 5.5
    
    if ph_acidic < 6.0:
        recommendation = "üçÖ –¢–æ–º–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∫–∞–ª—å—Ü–∏–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≤–µ—Ä—à–∏–Ω–Ω–æ–π –≥–Ω–∏–ª–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –≤–Ω–µ—Å—Ç–∏ –∫–∞–ª—å—Ü–∏–µ–≤—É—é —Å–µ–ª–∏—Ç—Ä—É"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —Ç–æ–º–∞—Ç–æ–≤: {recommendation}")
        assert "–∫–∞–ª—å—Ü–∏–π" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–ª—å—Ü–∏—è"
    
    # –¢–µ—Å—Ç 2: –ß–µ—Ä–Ω–∏–∫–∞ –∏ –∫–∏—Å–ª–∞—è –ø–æ—á–≤–∞
    ph_neutral = 7.0
    
    if ph_neutral > 5.5:
        recommendation = "ü´ê –ß–µ—Ä–Ω–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –∫–∏—Å–ª—É—é –ø–æ—á–≤—É (pH 4.5-5.5). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –ø–æ–¥–∫–∏—Å–ª–∏—Ç—å –ø–æ—á–≤—É"
        print(f"‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è —á–µ—Ä–Ω–∏–∫–∏: {recommendation}")
        assert "–∫–∏—Å–ª—É—é" in recommendation.lower(), "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∏—Å–ª–æ–π –ø–æ—á–≤—ã"
    
    print("‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫—É–ª—å—Ç—É—Ä–∞–º —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")

def run_all_tests():
    """–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤"""
    print("üöÄ –ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø –ü–ò–¢–ê–¢–ï–õ–¨–ù–´–• –í–ï–©–ï–°–¢–í")
    print("=" * 60)
    
    try:
        test_n_vs_k_antagonism()
        test_k_vs_mg_antagonism()
        test_ph_dependent_interactions()
        test_n_s_synergy()
        test_recommendation_generation()
        test_scientific_sources()
        test_real_measurable_interactions()
        test_recommendations_for_unmeasured_elements()
        test_crop_specific_recommendations()
        
        print("\n" + "=" * 60)
        print("üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!")
        print("‚úÖ –°–µ—Ä–≤–∏—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤ –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏")
        print("‚úÖ –ê–Ω—Ç–∞–≥–æ–Ω–∏–∑–º—ã –∏ —Å–∏–Ω–µ—Ä–≥–∏–∑–º—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–æ–¥–µ–ª–∏—Ä—É—é—Ç—Å—è")
        print("‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –Ω–∞—É—á–Ω–æ–π –æ—Å–Ω–æ–≤–µ")
        
    except Exception as e:
        print(f"\n‚ùå –û–®–ò–ë–ö–ê –í –¢–ï–°–¢–ê–•: {e}")
        return False
    
    return True

if __name__ == "__main__":
    success = run_all_tests()
    sys.exit(0 if success else 1) 