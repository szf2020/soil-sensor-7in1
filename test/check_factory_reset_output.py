#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—ã–≤–æ–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∞ –ø–æ—Ä—Ç–∞ ESP32
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ª–∏ —Å–±—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞ –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
"""

import sys
import os

def analyze_serial_output():
    """–ê–Ω–∞–ª–∏–∑ –≤—ã–≤–æ–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∞ –ø–æ—Ä—Ç–∞"""
    
    print("üîç –ê–ù–ê–õ–ò–ó –í–´–í–û–î–ê –ú–û–ù–ò–¢–û–†–ê –ü–û–†–¢–ê ESP32")
    print("=" * 60)
    
    # –ö–ª—é—á–µ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞
    key_messages = {
        "startup": [
            "–£–ù–ò–ö–ê–õ–¨–ù–´–ô –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–† –°–ë–û–†–ö–ò",
            "JXCT 7-–≤-1 –î–∞—Ç—á–∏–∫ v",
            "–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã"
        ],
        "factory_reset": [
            "–°–ë–†–û–° –î–ê–¢–ß–ò–ö–ê –ö –ó–ê–í–û–î–°–ö–ò–ú –ù–ê–°–¢–†–û–ô–ö–ê–ú",
            "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–±—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞",
            "–°–±—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω",
            "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞",
            "–î–∞—Ç—á–∏–∫ –æ—Ç–≤–µ—á–∞–µ—Ç",
            "–ö–æ–º–∞–Ω–¥–∞ factory reset –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
        ],
        "modbus_errors": [
            "–î–∞—Ç—á–∏–∫ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç",
            "–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –¥–∞—Ç—á–∏–∫–∞",
            "ku8MBSuccess"
        ],
        "current_status": [
            "–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞",
            "–ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—É—á–Ω—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é",
            "EC —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω",
            "pH —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω",
            "NPK —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω"
        ]
    }
    
    print("üìã –ö–õ–Æ–ß–ï–í–´–ï –°–û–û–ë–©–ï–ù–ò–Ø –î–õ–Ø –ü–û–ò–°–ö–ê:")
    for category, messages in key_messages.items():
        print(f"\n{category.upper()}:")
        for msg in messages:
            print(f"  - {msg}")
    
    print("\n" + "=" * 60)
    print("üìä –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê:")
    print("\n1. üîÑ –ü–†–û–í–ï–†–¨–¢–ï –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´:")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: '–£–ù–ò–ö–ê–õ–¨–ù–´–ô –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¢–û–† –°–ë–û–†–ö–ò v3.13.0'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'JXCT 7-–≤-1 –î–∞—Ç—á–∏–∫ v3.13.0 - –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã'")
    
    print("\n2. üîß –ü–†–û–í–ï–†–¨–¢–ï –°–ë–†–û–° –î–ê–¢–ß–ò–ö–ê:")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'üîÑ –°–ë–†–û–° –î–ê–¢–ß–ò–ö–ê –ö –ó–ê–í–û–î–°–ö–ò–ú –ù–ê–°–¢–†–û–ô–ö–ê–ú...'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞...'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: '‚úÖ –î–∞—Ç—á–∏–∫ –æ—Ç–≤–µ—á–∞–µ—Ç, –Ω–∞—á–∏–Ω–∞–µ–º —Å–±—Ä–æ—Å...'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'üìù –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã factory reset (0x0063 = 0x0001)...'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: '‚úÖ –ö–æ–º–∞–Ω–¥–∞ factory reset –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: '‚úÖ –°–±—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω!'")
    
    print("\n3. ‚ùå –ï–°–õ–ò –°–ë–†–û–° –ù–ï –í–´–ü–û–õ–ù–ò–õ–°–Ø:")
    print("   - –í–æ–∑–º–æ–∂–Ω–æ: '‚ùå –î–∞—Ç—á–∏–∫ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç!'")
    print("   - –í–æ–∑–º–æ–∂–Ω–æ: '‚ùå –û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –¥–∞—Ç—á–∏–∫–∞!'")
    print("   - –í–æ–∑–º–æ–∂–Ω–æ: –ù–ï–¢ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Å–±—Ä–æ—Å–µ –≤–æ–æ–±—â–µ")
    
    print("\n4. üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'üìä –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞'")
    print("   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 'üî¨ –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—É—á–Ω—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –¥–∞—Ç—á–∏–∫–∞'")
    
    print("\n" + "=" * 60)
    print("üö® –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:")
    print("\n1. –ù–ï–¢ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∑–∞–ø—É—Å–∫–µ:")
    print("   ‚Üí ESP32 –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—à–∏–≤–∫–∏")
    print("   ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º")
    
    print("\n2. –ù–ï–¢ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Å–±—Ä–æ—Å–µ:")
    print("   ‚Üí –§—É–Ω–∫—Ü–∏—è factoryResetSensor() –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è")
    print("   ‚Üí –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏")
    
    print("\n3. –û–®–ò–ë–ö–ò Modbus:")
    print("   ‚Üí –î–∞—Ç—á–∏–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω")
    print("   ‚Üí –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å Modbus")
    print("   ‚Üí –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∏—Ç–∞–Ω–∏–µ–º –¥–∞—Ç—á–∏–∫–∞")
    
    print("\n" + "=" * 60)
    print("üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:")
    print("\n1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ ESP32:")
    print("   - –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –Ω–∞ 10 —Å–µ–∫—É–Ω–¥")
    print("   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –∑–∞–Ω–æ–≤–æ")
    
    print("\n2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞:")
    print("   - –ü—Ä–æ–≤–æ–¥–∞ RS485 (A+, B-)")
    print("   - –ü–∏—Ç–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞ (VCC, GND)")
    print("   - –ê–¥—Ä–µ—Å Modbus (–æ–±—ã—á–Ω–æ 0x01)")
    
    print("\n3. –ï—Å–ª–∏ —Å–±—Ä–æ—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:")
    print("   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å Modbus")
    print("   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞—Ç—á–∏–∫–∞")
    print("   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π —Å–±—Ä–æ—Å —á–µ—Ä–µ–∑ Arduino IDE")

if __name__ == "__main__":
    analyze_serial_output() 