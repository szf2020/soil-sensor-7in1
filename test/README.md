# üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è JXCT

## üìã –û–±–∑–æ—Ä

JXCT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:

- **Python —Ç–µ—Å—Ç—ã** - –±—ã—Å—Ç—Ä—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ª–æ–≥–∏–∫–∏
- **Native C++ —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ C++ –∫–æ–¥–∞ –Ω–∞ —Ö–æ—Å—Ç–µ
- **ESP32 —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- **E2E —Ç–µ—Å—Ç—ã** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
python scripts/run_all_tests.py
```

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
```bash
# Python —Ç–µ—Å—Ç—ã
pytest test/ -v

# Native C++ —Ç–µ—Å—Ç—ã (Windows)
pio test -e native-windows

# Native C++ —Ç–µ—Å—Ç—ã (Linux/Mac)
pio test -e native

# ESP32 —Ç–µ—Å—Ç—ã
pio test -e esp32dev

# E2E —Ç–µ—Å—Ç—ã
pytest test/e2e/ -v
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
test/
‚îú‚îÄ‚îÄ esp32/                 # ESP32 —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_runner.cpp    # –ï–¥–∏–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–∞–Ω–Ω–µ—Ä
‚îú‚îÄ‚îÄ native/                # Native C++ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_simple_native.cpp
‚îÇ   ‚îî‚îÄ‚îÄ test_performance.cpp
‚îú‚îÄ‚îÄ e2e/                   # End-to-end —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_web_ui.py
‚îú‚îÄ‚îÄ performance/           # –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ stubs/                 # –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã ESP32 —Ç–µ—Å—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö ESP32 —Ç–µ—Å—Ç–æ–≤ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π `setup()` –∏ `loop()`.

### –ü—Ä–∏—á–∏–Ω–∞
Arduino framework —Ç—Ä–µ–±—É–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `setup()` –∏ `loop()` –≤ –ø—Ä–æ–µ–∫—Ç–µ. –ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –ª–∏–Ω–∫–µ—Ä –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É.

### –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω **–µ–¥–∏–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–∞–Ω–Ω–µ—Ä** `test/esp32/test_runner.cpp`, –∫–æ—Ç–æ—Ä—ã–π:
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ ESP32 —Ç–µ—Å—Ç—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –°–æ–¥–µ—Ä–∂–∏—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `setup()` –∏ `loop()`
- –û—Ä–≥–∞–Ω–∏–∑—É–µ—Ç —Ç–µ—Å—Ç—ã –ø–æ –≥—Ä—É–ø–ø–∞–º –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –í–∫–ª—é—á–∞–µ—Ç integration —Ç–µ—Å—Ç—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ª–∏–Ω–∫–æ–≤–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö ESP32 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üìä –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. Python —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ª–æ–≥–∏–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç
**–§–∞–π–ª—ã**: `test_*.py`
**–ó–∞–ø—É—Å–∫**: `pytest test/ -v`

### 2. Native C++ —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ C++ –∫–æ–¥–∞ –Ω–∞ —Ö–æ—Å—Ç–µ
**–§–∞–π–ª—ã**: `test/native/`
**–ó–∞–ø—É—Å–∫**: `pio test -e native` (Linux/Mac) –∏–ª–∏ `pio test -e native-windows` (Windows)

### 3. ESP32 —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ ESP32
**–§–∞–π–ª—ã**: `test/esp32/test_runner.cpp`
**–ó–∞–ø—É—Å–∫**: `pio test -e esp32dev`

### 4. E2E —Ç–µ—Å—Ç—ã
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
**–§–∞–π–ª—ã**: `test/e2e/`
**–ó–∞–ø—É—Å–∫**: `pytest test/e2e/ -v`

## üîç –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### –î–ª—è ESP32 —Ç–µ—Å—Ç–æ–≤
1. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ç–µ—Å—Ç–∞ –≤ `test/esp32/test_runner.cpp`
2. –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ `RUN_TEST(your_test_function)` –≤ —Ñ—É–Ω–∫—Ü–∏—é `setup()`

```cpp
void test_your_new_function()
{
    // –í–∞—à —Ç–µ—Å—Ç
    TEST_ASSERT_TRUE(your_condition);
    Serial.println("‚úÖ –í–∞—à —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω");
}

// –í —Ñ—É–Ω–∫—Ü–∏–∏ setup():
RUN_TEST(test_your_new_function);
```

### –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ –∏ —Å–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º.

## üìà –û—Ç—á–µ—Ç—ã

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç `scripts/run_all_tests.py` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å —ç–º–æ–¥–∑–∏
- JSON —Ñ–∞–π–ª —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É—Å–ø–µ—à–Ω—ã—Ö/–ø—Ä–æ–≤–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- PlatformIO
- ESP32 SDK (–¥–ª—è ESP32 —Ç–µ—Å—Ç–æ–≤)
- MinGW (–¥–ª—è Windows native —Ç–µ—Å—Ç–æ–≤)

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### ESP32 —Ç–µ—Å—Ç—ã –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ESP32 SDK
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `platformio.ini` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å—Ä–µ–¥–∞ `esp32dev`

### Native —Ç–µ—Å—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ Windows
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MinGW (w64devkit)
- –î–æ–±–∞–≤—å—Ç–µ MinGW –≤ PATH
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ä–µ–¥—É `native-windows`

### Python —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install pytest`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è JXCT v3.12.0

## üìã **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤**

### üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ)**

#### **Python —Ç–µ—Å—Ç—ã (—Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–∞)**
- `test_format.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- `test_validation.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `test_routes.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–º–∞—Ä—à—Ä—É—Ç–æ–≤
- `test_critical_functions.py` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `test_modbus_mqtt.py` - Modbus/MQTT
- `test_system_functions.py` - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### **ESP32 —Ç–µ—Å—Ç—ã (—Ä–µ–∞–ª—å–Ω–æ–µ –∂–µ–ª–µ–∑–æ)**
- `esp32/` ‚Äî –≤—Å–µ ESP32-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (C++)
- –ó–∞–ø—É—Å–∫: `pio test -e esp32dev`

#### **Native —Ç–µ—Å—Ç—ã (C++ –Ω–∞ —Ö–æ—Å—Ç–µ, –ø–æ–∫—Ä—ã—Ç–∏–µ)**
- `native/` ‚Äî —Ç–æ–ª—å–∫–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (C++)
- –ó–∞–ø—É—Å–∫: `pio test -e native`

#### **Performance (C++ —Ç–æ–ª—å–∫–æ –¥–ª—è native)**
- `performance/` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö–æ—Å—Ç–∞ —Å MinGW/gcc
- –ó–∞–ø—É—Å–∫: `pio test -e native -f test_performance`

#### **E2E —Ç–µ—Å—Ç—ã**
- `e2e/test_web_ui.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### üöÄ **–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫**

```bash
# Python —Ç–µ—Å—Ç—ã
python scripts/run_simple_tests.py

# ESP32 —Ç–µ—Å—Ç—ã
pio test -e esp32dev

# Native —Ç–µ—Å—Ç—ã (MinGW/gcc)
pio test -e native

# Performance (MinGW/gcc)
pio test -e native -f test_performance
```

### ‚öôÔ∏è **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PlatformIO**

- `esp32dev` - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ESP32
- `esp32dev-production` - Production —Å–±–æ—Ä–∫–∞
- `native` - Native —Ç–µ—Å—Ç—ã –Ω–∞ —Ö–æ—Å—Ç–µ
- `native-coverage` - –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞

### üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow**

1. **–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: `python scripts/run_simple_tests.py`
2. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º**: `pio test -e native`
3. **–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º**: `pio test` (–≤—Å–µ —Å—Ä–µ–¥—ã)
4. **–û—Ç–ª–∞–¥–∫–∞ ESP32**: `pio test -e esp32dev`

### ÔøΩÔøΩ **–û—á–∏—â–µ–Ω–æ –≤ v3.10.1**

–£–¥–∞–ª–µ–Ω—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `test/esp32/` - –¥—É–±–ª–∏—Ä—É—é—â–∏–µ ESP32 —Ç–µ—Å—Ç—ã
- `unity_simple.h` - —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
- `test_report_generator.*` - —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
- `simple_csrf.*` - –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–≥–ª—É—à–∫–∏

### üìä **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**

- **Python —Ç–µ—Å—Ç—ã**: 8/8 ‚úÖ
- **ESP32 –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: ‚úÖ (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: 70.8% (—Ü–µ–ª—å: 85%)
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥**: 30 (Low —É—Ä–æ–≤–µ–Ω—å)

---
**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 12.07.2024
**–í–µ—Ä—Å–∏—è**: 3.12.0
**–°—Ç–∞—Ç—É—Å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ
