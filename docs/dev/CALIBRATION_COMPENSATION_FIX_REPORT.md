# üîß –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 11.07.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ï–®–ï–ù–û  
**–ü—Ä–æ–±–ª–µ–º—ã:** –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞, –ø—Ä–∏ —Å–±—Ä–æ—Å–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è —Ñ–ª–∞–≥ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏  

---

## üö® –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1Ô∏è‚É£ **–ö–ê–õ–ò–ë–†–û–í–ö–ê –ù–ï –†–ê–ë–û–¢–ê–õ–ê**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª–∞—Å—å –∫ –¥–∞–Ω–Ω—ã–º –¥–∞—Ç—á–∏–∫–æ–≤  
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `sensor_processing.cpp`  

### 2Ô∏è‚É£ **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –§–õ–ê–ì–û–í**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–±—Ä–æ—Å–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –æ—Ç–∫–ª—é—á–∞–ª—Å—è —Ñ–ª–∞–≥ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏  
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–∞–ª–∏–±—Ä–æ–≤–∫–æ–π –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π  

### 3Ô∏è‚É£ **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï –ù–ê–ó–í–ê–ù–ò–Ø**
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–ª–∞–≥ `calibrationEnabled` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é  
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  

---

## üõ†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1Ô∏è‚É£ **–ò–°–ü–†–ê–í–õ–ï–ù–ê –õ–û–ì–ò–ö–ê –û–ë–†–ê–ë–û–¢–ö–ò –î–ê–ù–ù–´–•**

#### **–ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```cpp
// –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω—è–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–ª–∞–≥
if (config.flags.calibrationEnabled) {
    // –ü—Ä–∏–º–µ–Ω—è–ª–∞—Å—å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞...
}
```

#### **–°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```cpp
// 1. –í–°–ï–ì–î–ê –ø—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–∫—É (—Ä–∞—Å—á–µ—Ç –ø–æ —Ç–æ—á–∫–∞–º)
logDebugSafe("üìä –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –¥–∞—Ç—á–∏–∫–∞");
const SoilProfile profile = getSoilProfile(config.soilProfile);
gCalibrationService.applyCalibration(sensorData, profile);

// 2. –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—É—á–Ω—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞
if (config.flags.compensationEnabled) {
    logDebugSafe("üî¨ –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—É—á–Ω—É—é –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –¥–∞—Ç—á–∏–∫–∞");
    // –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è...
}
```

### 2Ô∏è‚É£ **–ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù –§–õ–ê–ì**

#### **–ë–´–õ–û:**
```cpp
uint8_t calibrationEnabled : 1;     // –í–∫–ª—é—á–µ–Ω–∞ –ª–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
```

#### **–°–¢–ê–õ–û:**
```cpp
uint8_t compensationEnabled : 1;    // –í–∫–ª—é—á–µ–Ω–∞ –ª–∏ –Ω–∞—É—á–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞/–≤–ª–∞–∂–Ω–æ—Å—Ç—å)
```

### 3Ô∏è‚É£ **–ò–°–ü–†–ê–í–õ–ï–ù –°–ë–†–û–° –ö–ê–õ–ò–ë–†–û–í–ö–ò**

#### **–ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```cpp
// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
gCalibrationService.resetCalibration();

// –û—Ç–∫–ª—é—á–∞–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
config.flags.calibrationEnabled = false;  // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
```

#### **–°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```cpp
// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
gCalibrationService.resetCalibration();

// –ù–ï —Ç—Ä–æ–≥–∞–µ–º —Ñ–ª–∞–≥ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏! –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è - —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏
// config.flags.compensationEnabled –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
```

---

## üìä –†–ê–ó–õ–ò–ß–ò–Ø –ú–ï–ñ–î–£ –ö–ê–õ–ò–ë–†–û–í–ö–û–ô –ò –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ï–ô

| –ê—Å–ø–µ–∫—Ç | –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ | –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è |
|--------|------------|-------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–æ—á–∫–∞–º | –ù–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã |
| **–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è** | **–í–°–ï–ì–î–ê** | **–¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞** |
| **–û—Å–Ω–æ–≤–∞** | –ò–∑–º–µ—Ä–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ | –ù–∞—É—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ |
| **–§–∞–π–ª—ã** | CSV —Ç–∞–±–ª–∏—Ü—ã | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã |
| **–°–±—Ä–æ—Å** | –£–¥–∞–ª—è–µ—Ç —Ç–æ—á–∫–∏ | –û—Ç–∫–ª—é—á–∞–µ—Ç —Ñ–æ—Ä–º—É–ª—ã |

### **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞:**
- **–¶–µ–ª—å:** –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø–æ –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–º —Ç–æ—á–∫–∞–º
- **–ú–µ—Ç–æ–¥:** –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** **–í–°–ï–ì–î–ê** (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ—á–∫–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏)

### **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:**
- **–¶–µ–ª—å:** –£—á–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø–æ –Ω–∞—É—á–Ω—ã–º —Ñ–æ—Ä–º—É–ª–∞–º
- **–ú–µ—Ç–æ–¥:** –ú–æ–¥–µ–ª—å –ê—Ä—á–∏ (EC), —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ù–µ—Ä–Ω—Å—Ç–∞ (pH), FAO 56 (NPK)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** **–¢–û–õ–¨–ö–û** –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–ª–∞–≥ `compensationEnabled`

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç:**
```bash
python scripts/run_simple_tests.py
[SUCCESS] ‚úÖ python_tests: PASS
[SUCCESS] ‚úÖ esp32_build: PASS
[SUCCESS] ‚úÖ formula_consistency: PASS
[SUCCESS] ‚úÖ üéâ –í–°–ï –û–°–ù–û–í–ù–´–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
```

### **–ù–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:**
```bash
python scripts/validate_formula_consistency.py
‚úÖ –í–°–ï –§–û–†–ú–£–õ–´ –°–ò–ù–•–†–û–ù–ò–ó–ò–†–û–í–ê–ù–´!
   ‚Ä¢ EC: –ú–æ–¥–µ–ª—å –ê—Ä—á–∏ (1942)
   ‚Ä¢ pH: –£—Ä–∞–≤–Ω–µ–Ω–∏–µ –ù–µ—Ä–Ω—Å—Ç–∞
   ‚Ä¢ NPK: FAO 56
```

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `src/sensor_processing.cpp` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ `include/jxct_config_vars.h` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω —Ñ–ª–∞–≥
- ‚úÖ `src/config.cpp` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `src/web/routes_data.cpp` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–±—Ä–æ—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- ‚úÖ `src/web/routes_main.cpp` - –æ–±–Ω–æ–≤–ª–µ–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üéØ –í–´–í–û–î–´

### **–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:**
1. ‚úÖ **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ—á–µ–∫
2. ‚úÖ **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —Ñ–ª–∞–≥–µ
3. ‚úÖ **–°–±—Ä–æ—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏** - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ–ª–∞–≥ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
4. ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** - —Ñ–ª–∞–≥ `compensationEnabled` –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### **–õ–æ–≥–∏–∫–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:**
1. **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞** = —Ä–∞—Å—á–µ—Ç –ø–æ —Ç–æ—á–∫–∞–º ‚Üí **–í–°–ï–ì–î–ê –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è**
2. **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è** = –Ω–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã ‚Üí **–¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞**
3. **–°–±—Ä–æ—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏** = —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ ‚Üí **–ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é**

### **–ù–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –≤–µ–∑–¥–µ:**
- ‚úÖ –ö–æ–¥ C++ - –Ω–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã
- ‚úÖ –¢–µ—Å—Ç—ã Python - –Ω–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã  
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –Ω–∞—É—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è 