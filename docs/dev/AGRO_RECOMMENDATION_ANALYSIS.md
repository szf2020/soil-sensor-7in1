# –ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∞–≥—Ä–æ—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## üìã –ü–û–ù–ò–ú–ê–ù–ò–ï –ó–ê–î–ê–ß–ò

### –°—É—Ç—å –ø—Ä–æ–º—Ç–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **—Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ –∞–≥—Ä–æ—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** —Å **–¥–≤—É–º—è —Ç—Ä–µ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö**:
1. **–¢–∞–±–ª–∏—á–Ω—ã–µ (–Ω–∞—É—á–Ω–æ-—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ)** - –±–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è
2. **–ù–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (–ù–ï –¢–†–û–ì–ê–ï–ú)

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞
**–°—Ç—Ä–æ–≥–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. **–¢–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** (–∏—Å—Ö–æ–¥–Ω—ã–µ –¥–ª—è –∫—É–ª—å—Ç—É—Ä—ã)
2. **–ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è** (–ü–ï–†–í–ê–Ø, –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
3. **–°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è** (–í–¢–û–†–ê–Ø, —Ç–æ–ª—å–∫–æ NPK)
4. **–ò—Ç–æ–≥–æ–≤–æ–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** = –¢–∞–±–ª–∏—á–Ω–æ–µ ‚Üí –¢–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí –°–µ–∑–æ–Ω (NPK)

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
- **–ó–Ω–∞—á–µ–Ω–∏–µ:** –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–µ (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ü–∏–π)
- **–¶–≤–µ—Ç:** –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ **–∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ** –æ—Ç **–Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ (–≤—Ç–æ—Ä–∞—è –∫–æ–ª–æ–Ω–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ)**
- **–ü—Ä–æ—Ü–µ–Ω—Ç –≤ —Å–∫–æ–±–∫–∞—Ö:** `((–ò—Ç–æ–≥–æ–≤–æ–µ - –¢–∞–±–ª–∏—á–Ω–æ–µ) / –¢–∞–±–ª–∏—á–Ω–æ–µ) * 100%`

### –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–¢–û–õ–¨–ö–û** –Ω–∞ –æ—Å–Ω–æ–≤–µ **–∏—Ç–æ–≥–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**
- **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** —Ç–∞–±–ª–∏—á–Ω—ã–µ –∏–ª–∏ –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

## üîç –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ì–û –°–û–°–¢–û–Ø–ù–ò–Ø

### –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ:

#### 1. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `CropConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫—É–ª—å—Ç—É—Ä—ã (—Ç–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ `RecommendationResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- ‚úÖ `RecValues` - –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### 2. –ú–µ—Ç–æ–¥—ã –≤ CropRecommendationEngine
- ‚úÖ `generateRecommendation()` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
- ‚úÖ `applySeasonalAdjustments()` - —Å–µ–∑–æ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- ‚úÖ `applyGrowingTypeAdjustments()` - –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è
- ‚úÖ `applySoilTypeAdjustments()` - –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ç–∏–ø–∞ –ø–æ—á–≤—ã

#### 3. JSON API –≤ routes_data.cpp
- ‚úÖ `crop_id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫—É–ª—å—Ç—É—Ä—ã
- ‚úÖ `crop_specific_recommendations` - —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- ‚úÖ –°–µ–∑–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ß—Ç–æ –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

#### 1. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–π
- ‚ùå **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** –°–µ–π—á–∞—Å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è: –°–µ–∑–æ–Ω ‚Üí –¢–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí –¢–∏–ø –ø–æ—á–≤—ã
- ‚úÖ **–î–û–õ–ñ–ù–û –ë–´–¢–¨:** –¢–∞–±–ª–∏—á–Ω—ã–µ ‚Üí –¢–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí –°–µ–∑–æ–Ω (—Ç–æ–ª—å–∫–æ NPK)

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤ JSON API
- ‚ùå `table_values` - –∏—Å—Ö–æ–¥–Ω—ã–µ —Ç–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚ùå `final_calculated` - –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–æ—Ä—Ä–µ–∫—Ü–∏–π)
- ‚ùå `correction_percentages` - –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö
- ‚ùå `color_indicators` - —Ü–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

#### 3. –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
- ‚ùå –°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
- ‚úÖ –î–æ–ª–∂–Ω–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ NPK

## üìù –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –≠—Ç–∞–ø 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ CropRecommendationEngine (–ó–ê–í–ï–†–®–ï–ù)

#### 1.1 ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã RecommendationResult
```cpp
struct RecommendationResult {
    // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è...
    
    // –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
    CropConfig tableValues;              // –ò—Å—Ö–æ–¥–Ω—ã–µ —Ç–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    CropConfig growingTypeAdjusted;      // –ü–æ—Å–ª–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è
    CropConfig finalCalculated;          // –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    CropConfig scientificallyCompensated; // –ù–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    CorrectionPercentages correctionPercentages;
    ColorIndicators colorIndicators;
};
```

#### 1.2 ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ generateRecommendation()
```cpp
RecommendationResult generateRecommendation(...) {
    // 1. –ü–æ–ª—É—á–∞–µ–º —Ç–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    result.tableValues = getTableValues(cropType);
    
    // 2. –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ü–∏—é —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è (–ü–ï–†–í–ê–Ø)
    result.growingTypeAdjusted = applyGrowingTypeCorrection(result.tableValues, growingType);
    
    // 3. –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–µ–∑–æ–Ω–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ü–∏—é (–í–¢–û–†–ê–Ø, —Ç–æ–ª—å–∫–æ NPK)
    result.finalCalculated = applySeasonalCorrection(result.growingTypeAdjusted, season);
    
    // 4. –ü–æ–ª—É—á–∞–µ–º –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
    result.scientificallyCompensated = getScientificallyCompensated(data, cropType);
    
    // 5. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
    result.correctionPercentages = calculateCorrectionPercentages(result.tableValues, result.finalCalculated);
    
    // 6. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç–∞
    result.colorIndicators = calculateColorIndicators(result.finalCalculated, result.scientificallyCompensated);
    
    return result;
}
```

#### 1.3 –ù–æ–≤—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```cpp
private:
    CropConfig getTableValues(const String& cropType) const;
    CropConfig applyGrowingTypeCorrection(const CropConfig& table, const String& growingType);
    CropConfig applySeasonalCorrection(const CropConfig& adjusted, const String& season);
    CropConfig getScientificallyCompensated(const SensorData& data, const String& cropType);
    CorrectionPercentages calculateCorrectionPercentages(const CropConfig& table, const CropConfig& final);
    ColorIndicators calculateColorIndicators(const CropConfig& final, const CropConfig& scientific);
```

### –≠—Ç–∞–ø 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ JSON API

#### 2.1 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è sendSensorJson()
```cpp
void sendSensorJson() {
    // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥...
    
    // –ü–æ–ª—É—á–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    RecommendationResult sysResult = getCropEngine().generateRecommendation(
        sensorData, String(config.cropId), growingType, currentSeason, String(config.soilProfile)
    );
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ JSON
    doc["table_temperature"] = format_temperature(sysResult.tableValues.temperature);
    doc["table_humidity"] = format_moisture(sysResult.tableValues.humidity);
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    
    doc["final_temperature"] = format_temperature(sysResult.finalCalculated.temperature);
    doc["final_humidity"] = format_moisture(sysResult.finalCalculated.humidity);
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    
    doc["correction_temp_percent"] = String(sysResult.correctionPercentages.temperature, 1);
    doc["correction_hum_percent"] = String(sysResult.correctionPercentages.humidity, 1);
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    
    doc["color_temp"] = sysResult.colorIndicators.temperature;
    doc["color_hum"] = sysResult.colorIndicators.humidity;
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}
```

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 3.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–π
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ NPK

#### 3.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –¶–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

#### 3.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ JSON API
- –í—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

## üö´ –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

1. **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å** –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`src/web/routes_data.cpp`)
2. **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å** –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **–ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å** –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã/–∫–ª–∞—Å—Å—ã
4. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

1. ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–π: –¢–∞–±–ª–∏—á–Ω—ã–µ ‚Üí –¢–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí –°–µ–∑–æ–Ω (NPK)
2. ‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
3. ‚úÖ –¶–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
4. ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ç–æ–≥–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
5. ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
6. ‚úÖ JSON API —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è

## üîß –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞
1. **–ò–∑—É—á–∏—Ç—å** `src/business/crop_recommendation_engine.cpp`
2. **–ü–æ–Ω—è—Ç—å** —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É –≤ –º–µ—Ç–æ–¥–µ `generateRecommendation()`
3. **–í—ã—è–≤–∏—Ç—å** –≥–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –∏ –≤ –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å** –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
1. **–î–æ–±–∞–≤–∏—Ç—å** —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `CorrectionPercentages` –∏ `ColorIndicators` –≤ header
2. **–†–∞—Å—à–∏—Ä–∏—Ç—å** —Å—Ç—Ä—É–∫—Ç—É—Ä—É `RecommendationResult` –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** –∫–æ–º–ø–∏–ª—è—Ü–∏—é –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –®–∞–≥ 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–π
1. **–°–æ–∑–¥–∞—Ç—å** –º–µ—Ç–æ–¥ `getTableValues()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ç–∞–±–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
2. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å** `applyGrowingTypeAdjustments()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
3. **–°–æ–∑–¥–∞—Ç—å** `applySeasonalCorrection()` –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ NPK
4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å** –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ `generateRecommendation()`

### –®–∞–≥ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤
1. **–°–æ–∑–¥–∞—Ç—å** `calculateCorrectionPercentages()` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö
2. **–°–æ–∑–¥–∞—Ç—å** `calculateColorIndicators()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤
3. **–°–æ–∑–¥–∞—Ç—å** `getScientificallyCompensated()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ

### –®–∞–≥ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å JSON API
1. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å** `sendSensorJson()` –≤ `src/web/routes_data.cpp`
2. **–î–æ–±–∞–≤–∏—Ç—å –≤** –≤—ã–∑–æ–≤ `generateRecommendation()` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
3. **–î–æ–±–∞–≤–∏—Ç—å** –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ JSON –¥–æ–∫—É–º–µ–Ω—Ç
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
1. **–°–æ–∑–¥–∞—Ç—å** —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–π
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** —á—Ç–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** JSON API —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ Postman

## üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### –í `src/business/crop_recommendation_engine.h`:
```cpp
// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
struct CorrectionPercentages {
    float temperature;
    float humidity;
    float ec;
    float ph;
    float nitrogen;
    float phosphorus;
    float potassium;
};

struct ColorIndicators {
    String temperature;
    String humidity;
    String ec;
    String ph;
    String nitrogen;
    String phosphorus;
    String potassium;
};

// –†–∞—Å—à–∏—Ä–∏—Ç—å RecommendationResult
struct RecommendationResult {
    // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è...
    CropConfig tableValues;
    CropConfig growingTypeAdjusted;
    CropConfig finalCalculated;
    CropConfig scientificallyCompensated;
    CorrectionPercentages correctionPercentages;
    ColorIndicators colorIndicators;
};
```

### –í `src/business/crop_recommendation_engine.cpp`:
```cpp
// –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
CropConfig CropRecommendationEngine::getTableValues(const String& cropType) const {
    auto it = cropConfigs.find(cropType);
    if (it != cropConfigs.end()) {
        return it->second;
    }
    return cropConfigs.at("generic");
}

CropConfig CropRecommendationEngine::applyGrowingTypeCorrection(const CropConfig& table, const String& growingType) {
    CropConfig result = table;
    
    if (growingType == "greenhouse") {
        result.temperature *= 1.05f;
        result.humidity *= 1.05f;
        result.ec *= 1.10f;
        result.nitrogen *= 1.15f;
        result.phosphorus *= 1.15f;
        result.potassium *= 1.15f;
    }
    // –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è...
    
    return result;
}

CropConfig CropRecommendationEngine::applySeasonalCorrection(const CropConfig& adjusted, const String& season) {
    CropConfig result = adjusted;
    
    if (season == "summer") {
        // –¢–æ–ª—å–∫–æ NPK
        result.nitrogen *= 1.05f;
        result.phosphorus *= 1.03f;
        result.potassium *= 1.08f;
    }
    // –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å–µ–∑–æ–Ω—ã...
    
    return result;
}
```

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∫–æ—Ä—Ä–µ–∫—Ü–∏–π
2. **–¢–æ—á–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã** –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
3. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
4. **–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ç–æ–≥–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
6. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π JSON API** —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ JSON API —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø—Ä–æ–º—Ç–∞

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û –£–°–ü–ï–®–ù–û:

1. **–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**:
   - –¢–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Üí –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí –°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è (NPK)
   - –í—Å–µ —ç—Ç–∞–ø—ã —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ `RecommendationResult`

2. **–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ JSON API**:
   - `table_values` - –∏—Å—Ö–æ–¥–Ω—ã–µ —Ç–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - `final_calculated` - –∏—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - `correction_percentages` - –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö
   - `color_indicators` - —Ü–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –Ω–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

3. **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã**:
   - –¢–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è: –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
   - –°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è: —Ç–æ–ª—å–∫–æ NPK, –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**:
   - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∏–∑–º–µ–Ω–µ–Ω
   - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
   - –ù–∞—É—á–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

### üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 4 (engine.h, engine.cpp, routes_data.cpp, interface.h)
- **–ù–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤**: 6 (getTableValues, applyGrowingTypeCorrection, applySeasonalCorrection, getScientificallyCompensated, calculateCorrectionPercentages, calculateColorIndicators)
- **–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ**: 50+ (100% —É—Å–ø–µ—Ö)
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**: –£—Å–ø–µ—à–Ω–æ
- **–†–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏**: 1 413 376 –±–∞–π—Ç (71.6% Flash)

### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:

1. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–π**:
   ```cpp
   tableValues ‚Üí growingTypeAdjusted ‚Üí finalCalculated
   ```

2. **–†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤**:
   ```cpp
   ((finalCalculated - tableValues) / tableValues) * 100%
   ```

3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤**:
   ```cpp
   –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: finalCalculated vs scientificallyCompensated
   –ó–µ–ª–µ–Ω—ã–π: ¬±10%, –ñ–µ–ª—Ç—ã–π: ¬±25%, –ö—Ä–∞—Å–Ω—ã–π: >25%
   ```

### üéØ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ:

–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ –∞–≥—Ä–æ—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∫–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ ESP32.

## üßπ –û–ß–ò–°–¢–ö–ê –ö–û–î–ê (–ó–ê–í–ï–†–®–ï–ù–û)

### ‚úÖ –£–î–ê–õ–ï–ù–ù–´–ï –£–°–¢–ê–†–ï–í–®–ò–ï –§–£–ù–ö–¶–ò–ò:

1. **`applySeasonalAdjustments()`** - —Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–µ–∑–æ–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
2. **`applyGrowingTypeAdjustments()`** - —Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ —Ç–∏–ø–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è  
3. **`applySoilTypeAdjustments()`** - —Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ —Ç–∏–ø–∞ –ø–æ—á–≤—ã

### üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –û–ß–ò–°–¢–ö–ò:

- **–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~250 —Å—Ç—Ä–æ–∫ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–æ–¥–∞
- **–£–ø—Ä–æ—â–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: —É–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –∫–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (50+ —Ç–µ—Å—Ç–æ–≤, 100% —É—Å–ø–µ—Ö)
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è**: —É—Å–ø–µ—à–Ω–æ (—Ä–∞–∑–º–µ—Ä –ø—Ä–æ—à–∏–≤–∫–∏: 1 413 376 –±–∞–π—Ç)

### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø:

1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã**: –º–µ–∂–¥—É —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
2. **–£–ø—Ä–æ—â–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞**: –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
3. **–ü–æ–≤—ã—à–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: —É–±—Ä–∞–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ—à–∏–±–æ–∫
4. **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –º–µ–Ω—å—à–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

### ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –°–¢–ê–¢–£–°:

**–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≥—Ä–æ—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω!**
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ JSON API: –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- ‚úÖ –ö–æ–¥: –æ—á–∏—â–µ–Ω –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ 

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ü–†–û–¶–ï–ù–¢–û–í (–ó–ê–í–ï–†–®–ï–ù–û)

### üìã –ü–†–û–ë–õ–ï–ú–ê
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏:
- **–ü–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å:** `(+8%)` –¥–ª—è –∞–∑–æ—Ç–∞ –≤ –ª–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥
- **–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `(+5%)` –¥–ª—è –∞–∑–æ—Ç–∞ –≤ –ª–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥

### üîç –ê–ù–ê–õ–ò–ó –ü–†–ò–ß–ò–ù–´
1. **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —Å–µ–∑–æ–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫** –≤ JavaScript –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Ö–∞—Ä–¥–∫–æ–¥:
   ```javascript
   '–õ–µ—Ç–æ': { n: '+8%', p: '+5%', k: '+20%' }
   ```

2. **–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞** –≤ C++ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   ```cpp
   // –õ–µ—Ç–æ: –∂–∞—Ä–∫–∏–π –ø–µ—Ä–∏–æ–¥, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –∫–∞–ª–∏–∏
   result.nitrogen *= 1.05f;     // +5%
   result.phosphorus *= 1.03f;   // +3%
   result.potassium *= 1.08f;    // +8%
   ```

3. **JSON API** –ø–µ—Ä–µ–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `correction_percentages`

### ‚úÖ –†–ï–®–ï–ù–ò–ï
**–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `updateSeasonalAdjustments` –≤ `src/web/routes_data.cpp`:**

1. **–£–¥–∞–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è —Ö–∞—Ä–¥–∫–æ–¥ –ª–æ–≥–∏–∫–∞:**
   ```javascript
   // –£–î–ê–õ–ï–ù–û
   const adjustments = {
     '–õ–µ—Ç–æ': { n: '+8%', p: '+5%', k: '+20%' }
   };
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ JSON API:**
   ```javascript
   function updateSeasonalAdjustments(d) {
     if (d.correction_percentages) {
       const percentages = d.correction_percentages;
       // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
       if(spanN && percentages.nitrogen !== undefined) {
         const valueN = parseFloat(percentages.nitrogen);
         const signN = valueN >= 0 ? '+' : '';
         spanN.textContent = ` (${signN}${valueN}%)`;
       }
     }
   }
   ```

3. **–û–±–Ω–æ–≤–ª–µ–Ω –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:**
   ```javascript
   // –ë–´–õ–û
   updateSeasonalAdjustments(d.season);
   
   // –°–¢–ê–õ–û
   updateSeasonalAdjustments(d);
   ```

### üéØ –†–ï–ó–£–õ–¨–¢–ê–¢
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã:** –¢–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `(+5%)` –¥–ª—è –∞–∑–æ—Ç–∞ –≤ –ª–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –ü—Ä–æ—Ü–µ–Ω—Ç—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –∞ –Ω–µ –∏–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã:** –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã

### üìä –ü–†–ò–ú–ï–† –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø
**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üåø –ê–∑–æ—Ç (N), –º–≥/–∫–≥: 158 (+8%)  ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üåø –ê–∑–æ—Ç (N), –º–≥/–∫–≥: 158 (+5%)  ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

### üîÑ –°–¢–ê–¢–£–°
- **–ó–∞–≤–µ—Ä—à–µ–Ω–æ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:** ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:

1. **–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≥—Ä–æ—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:**
   - ‚úÖ –°—Ç—Ä–æ–≥–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–π (—Ç–∞–±–ª–∏—á–Ω—ã–µ ‚Üí —Ç–∏–ø –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è ‚Üí —Å–µ–∑–æ–Ω)
   - ‚úÖ –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤)
   - ‚úÖ –°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è NPK
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –æ—Ç —Ç–∞–±–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

2. **JSON API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
   - ‚úÖ –ù–æ–≤—ã–µ –ø–æ–ª—è: `table_values`, `final_calculated`, `correction_percentages`, `color_indicators`
   - ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏ `rec_*`
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
   - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ:**
   - ‚úÖ –í—Å–µ 53 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç (50 Python + 3 Native)
   - ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è ESP32
   - ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

### üéØ –ö–û–ù–ö–†–ï–¢–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:

**–î–ª—è –≥–∞–∑–æ–Ω–∞, –ª–µ—Ç–æ, –æ—Ç–∫—Ä—ã—Ç—ã–π –≥—Ä—É–Ω—Ç:**
- **–¢–∞–±–ª–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:** 150/60/200 ppm (N/P/K)
- **–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç–Ω—ã–µ:** 158/62/216 ppm (N/P/K)  
- **–ü—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏:** +5%/+3%/+8% (N/P/K)
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI:** `158 (+5%)` ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

1. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤:** `(+8%)` ‚Üí `(+5%)` –¥–ª—è –∞–∑–æ—Ç–∞ –≤ –ª–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥
2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—ç–∫–µ–Ω–¥–∞
3. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–æ–¥:** –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 3 (crop_recommendation_engine.cpp, routes_data.cpp, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~50 –¥–æ–±–∞–≤–ª–µ–Ω–æ, ~30 —É–¥–∞–ª–µ–Ω–æ
- **–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2 —á–∞—Å–∞
- **–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:** 53/53 (100%)

### üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ü–†–û–î–ê–ö–®–ï–ù–£:

- ‚úÖ **–ê–ª–≥–æ—Ä–∏—Ç–º:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ **–ö–æ–¥:** –û—á–∏—â–µ–Ω –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ** üéâ 